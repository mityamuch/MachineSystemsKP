<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" version="29.2.7">
  <diagram name="Training Pipeline" id="training-pipeline">
    <mxGraphModel dx="1200" dy="700" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=20;fontStyle=1;" value="ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Training Pipeline" vertex="1">
          <mxGeometry height="30" width="500" x="500" y="15" as="geometry" />
        </mxCell>
        
        <!-- Data Sources Group -->
        <mxCell id="sources-group" parent="1" style="swimlane;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;" value="Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…" vertex="1">
          <mxGeometry height="130" width="200" x="30" y="60" as="geometry" />
        </mxCell>
        <mxCell id="mobile-apps" parent="sources-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" value="ðŸ“± Mobile Apps&lt;br&gt;Trip Events&lt;br&gt;Driver Events" vertex="1">
          <mxGeometry height="50" width="85" x="10" y="30" as="geometry" />
        </mxCell>
        <mxCell id="external-api" parent="sources-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" value="ðŸŒ External APIs&lt;br&gt;Weather, Events" vertex="1">
          <mxGeometry height="50" width="85" x="105" y="30" as="geometry" />
        </mxCell>
        <mxCell id="internal-svc" parent="sources-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" value="âš™ï¸ Internal Services&lt;br&gt;Pricing, Routing" vertex="1">
          <mxGeometry height="40" width="180" x="10" y="85" as="geometry" />
        </mxCell>

        <!-- Stream Processing Group -->
        <mxCell id="stream-group" parent="1" style="swimlane;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1;" value="ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ…" vertex="1">
          <mxGeometry height="130" width="200" x="30" y="210" as="geometry" />
        </mxCell>
        <mxCell id="kafka" parent="stream-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" value="Apache Kafka&lt;br&gt;Raw Events" vertex="1">
          <mxGeometry height="40" width="180" x="10" y="30" as="geometry" />
        </mxCell>
        <mxCell id="flink-spark" parent="stream-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" value="Flink (real-time) | Spark (batch)&lt;br&gt;ÐÐ³Ñ€ÐµÐ³Ð°Ñ†Ð¸Ñ, lag-Ð¿Ñ€Ð¸Ð·Ð½Ð°ÐºÐ¸" vertex="1">
          <mxGeometry height="40" width="180" x="10" y="80" as="geometry" />
        </mxCell>

        <!-- Feature Store Group -->
        <mxCell id="fs-group" parent="1" style="swimlane;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;" value="Feature Store" vertex="1">
          <mxGeometry height="130" width="200" x="30" y="360" as="geometry" />
        </mxCell>
        <mxCell id="redis-online" parent="fs-group" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#d5e8d4;strokeColor=#82b366;" value="Redis (Online)&lt;br&gt;TTL=5min" vertex="1">
          <mxGeometry height="50" width="80" x="10" y="30" as="geometry" />
        </mxCell>
        <mxCell id="s3-offline" parent="fs-group" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="S3 (Offline)&lt;br&gt;90 days" vertex="1">
          <mxGeometry height="50" width="80" x="110" y="30" as="geometry" />
        </mxCell>
        <mxCell id="labels" parent="fs-group" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" value="ÐÐ²Ñ‚Ð¾Ñ€Ð°Ð·Ð¼ÐµÑ‚ÐºÐ° Ñ‚Ð°Ñ€Ð³ÐµÑ‚Ð¾Ð²" vertex="1">
          <mxGeometry height="25" width="180" x="10" y="95" as="geometry" />
        </mxCell>

        <!-- Features for TFT -->
        <mxCell id="tft-features" parent="1" style="swimlane;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;startSize=25;" value="ÐŸÑ€Ð¸Ð·Ð½Ð°ÐºÐ¸ Ð´Ð»Ñ TFT (5-15 Ð¼Ð¸Ð½)" vertex="1">
          <mxGeometry height="150" width="200" x="280" y="60" as="geometry" />
        </mxCell>
        <mxCell id="tft-feat-hist" parent="tft-features" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" value="ðŸ“Š Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ&lt;br&gt;demand_lag_5m, supply_lag_1h&lt;br&gt;surge_lag, cancel_rate" vertex="1">
          <mxGeometry height="55" width="90" x="5" y="30" as="geometry" />
        </mxCell>
        <mxCell id="tft-feat-spatial" parent="tft-features" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" value="ðŸ“ ÐŸÑ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ðµ&lt;br&gt;geo_zone_id&lt;br&gt;poi_count" vertex="1">
          <mxGeometry height="55" width="90" x="105" y="30" as="geometry" />
        </mxCell>
        <mxCell id="tft-feat-time" parent="tft-features" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" value="ðŸ• Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ&lt;br&gt;hour_of_day&lt;br&gt;is_holiday" vertex="1">
          <mxGeometry height="55" width="90" x="5" y="90" as="geometry" />
        </mxCell>
        <mxCell id="tft-feat-ctx" parent="tft-features" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" value="ðŸŒ¤ï¸ ÐšÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð½Ñ‹Ðµ&lt;br&gt;temperature&lt;br&gt;event_nearby" vertex="1">
          <mxGeometry height="55" width="90" x="105" y="90" as="geometry" />
        </mxCell>

        <!-- Features for LightGBM -->
        <mxCell id="lgbm-features" parent="1" style="swimlane;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;startSize=25;" value="ÐŸÑ€Ð¸Ð·Ð½Ð°ÐºÐ¸ Ð´Ð»Ñ LightGBM (1-5 Ð¼Ð¸Ð½)" vertex="1">
          <mxGeometry height="150" width="200" x="280" y="230" as="geometry" />
        </mxCell>
        <mxCell id="lgbm-feat-tft" parent="lgbm-features" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" value="ðŸ”® ÐŸÑ€Ð¾Ð³Ð½Ð¾Ð·Ñ‹ TFT&lt;br&gt;tft_demand_prediction&lt;br&gt;tft_gap_prediction" vertex="1">
          <mxGeometry height="55" width="90" x="5" y="30" as="geometry" />
        </mxCell>
        <mxCell id="lgbm-feat-stream" parent="lgbm-features" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;" value="âš¡ Streaming&lt;br&gt;demand_velocity&lt;br&gt;driver_inflow_5m" vertex="1">
          <mxGeometry height="55" width="90" x="105" y="30" as="geometry" />
        </mxCell>
        <mxCell id="lgbm-feat-sys" parent="lgbm-features" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" value="ðŸ–¥ï¸ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ðµ&lt;br&gt;current_eta&lt;br&gt;queue_length" vertex="1">
          <mxGeometry height="55" width="90" x="5" y="90" as="geometry" />
        </mxCell>
        <mxCell id="lgbm-feat-delta" parent="lgbm-features" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" value="Î” Ð”ÐµÐ»ÑŒÑ‚Ñ‹&lt;br&gt;demand_delta_tft&lt;br&gt;supply_delta_tft" vertex="1">
          <mxGeometry height="55" width="90" x="105" y="90" as="geometry" />
        </mxCell>

        <!-- Transformations -->
        <mxCell id="transform-group" parent="1" style="swimlane;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1;fontColor=#333333;startSize=25;" value="Ð¢Ñ€Ð°Ð½ÑÑ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸" vertex="1">
          <mxGeometry height="100" width="200" x="280" y="400" as="geometry" />
        </mxCell>
        <mxCell id="transform-list" parent="transform-group" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=10;align=left;" value="â€¢ StandardScaler (TFT)&lt;br&gt;â€¢ Target Encoding (ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸)&lt;br&gt;â€¢ sin/cos (Ð²Ñ€ÐµÐ¼Ñ)&lt;br&gt;â€¢ log1p (demand/supply)" vertex="1">
          <mxGeometry height="65" width="180" x="10" y="30" as="geometry" />
        </mxCell>

        <!-- TFT Training Group -->
        <mxCell id="tft-group" parent="1" style="swimlane;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;" value="Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ 1: TFT Training (Ð•Ð¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾)" vertex="1">
          <mxGeometry height="140" width="380" x="530" y="60" as="geometry" />
        </mxCell>
        <mxCell id="tft-prep" parent="tft-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;" value="Data Prep&lt;br&gt;Split 70/15/15&lt;br&gt;Normalize" vertex="1">
          <mxGeometry height="55" width="80" x="15" y="30" as="geometry" />
        </mxCell>
        <mxCell id="tft-train" parent="tft-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;" value="ðŸ–¥ï¸ GPU Training&lt;br&gt;NVIDIA T4/A100&lt;br&gt;Early stopping" vertex="1">
          <mxGeometry height="55" width="100" x="110" y="30" as="geometry" />
        </mxCell>
        <mxCell id="tft-val" parent="tft-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;" value="Validation&lt;br&gt;MAE, RMSE&lt;br&gt;MAPE" vertex="1">
          <mxGeometry height="55" width="70" x="225" y="30" as="geometry" />
        </mxCell>
        <mxCell id="tft-target" parent="tft-group" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;" value="Target: gap(t+5)" vertex="1">
          <mxGeometry height="25" width="80" x="15" y="95" as="geometry" />
        </mxCell>
        <mxCell id="tft-time" parent="tft-group" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;" value="~2-4 Ñ‡Ð°ÑÐ°" vertex="1">
          <mxGeometry height="25" width="70" x="225" y="95" as="geometry" />
        </mxCell>
        <mxCell id="tft-arrow1" edge="1" parent="tft-group" source="tft-prep" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="tft-train">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tft-arrow2" edge="1" parent="tft-group" source="tft-train" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="tft-val">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tft-output" parent="tft-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;" value="â†’ MLflow" vertex="1">
          <mxGeometry height="30" width="60" x="310" y="43" as="geometry" />
        </mxCell>
        <mxCell id="tft-arrow3" edge="1" parent="tft-group" source="tft-val" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="tft-output">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- LightGBM Training Group -->
        <mxCell id="lgbm-group" parent="1" style="swimlane;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;" value="Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ 2: LightGBM Training (30-60 Ð¼Ð¸Ð½)" vertex="1">
          <mxGeometry height="140" width="380" x="530" y="220" as="geometry" />
        </mxCell>
        <mxCell id="lgbm-prep" parent="lgbm-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;" value="Data Prep&lt;br&gt;Last 24-48h&lt;br&gt;+ TFT preds" vertex="1">
          <mxGeometry height="55" width="80" x="15" y="30" as="geometry" />
        </mxCell>
        <mxCell id="lgbm-train" parent="lgbm-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;" value="CPU Training&lt;br&gt;Warm-start&lt;br&gt;Incremental" vertex="1">
          <mxGeometry height="55" width="100" x="110" y="30" as="geometry" />
        </mxCell>
        <mxCell id="lgbm-val" parent="lgbm-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;" value="A/B Test&lt;br&gt;Shadow mode&lt;br&gt;10% traffic" vertex="1">
          <mxGeometry height="55" width="70" x="225" y="30" as="geometry" />
        </mxCell>
        <mxCell id="lgbm-target" parent="lgbm-group" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;" value="Target: optimal_surge" vertex="1">
          <mxGeometry height="25" width="100" x="15" y="95" as="geometry" />
        </mxCell>
        <mxCell id="lgbm-time" parent="lgbm-group" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;" value="~2-5 Ð¼Ð¸Ð½" vertex="1">
          <mxGeometry height="25" width="70" x="225" y="95" as="geometry" />
        </mxCell>
        <mxCell id="lgbm-arrow1" edge="1" parent="lgbm-group" source="lgbm-prep" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="lgbm-train">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lgbm-arrow2" edge="1" parent="lgbm-group" source="lgbm-train" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="lgbm-val">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lgbm-output" parent="lgbm-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;" value="â†’ MLflow" vertex="1">
          <mxGeometry height="30" width="60" x="310" y="43" as="geometry" />
        </mxCell>
        <mxCell id="lgbm-arrow3" edge="1" parent="lgbm-group" source="lgbm-val" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="lgbm-output">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Triggers Group -->
        <mxCell id="trigger-group" parent="1" style="swimlane;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" value="Ð¢Ñ€Ð¸Ð³Ð³ÐµÑ€Ñ‹" vertex="1">
          <mxGeometry height="120" width="150" x="530" y="380" as="geometry" />
        </mxCell>
        <mxCell id="trigger-schedule" parent="trigger-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" value="â° Schedule&lt;br&gt;(ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾ 3:00)" vertex="1">
          <mxGeometry height="35" width="120" x="15" y="25" as="geometry" />
        </mxCell>
        <mxCell id="trigger-drift" parent="trigger-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;" value="ðŸ“‰ Data Drift&lt;br&gt;(PSI &gt; 0.2)" vertex="1">
          <mxGeometry height="35" width="120" x="15" y="65" as="geometry" />
        </mxCell>

        <!-- Drift Detection -->
        <mxCell id="drift-group" parent="1" style="swimlane;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;" value="Drift Detection" vertex="1">
          <mxGeometry height="120" width="150" x="700" y="380" as="geometry" />
        </mxCell>
        <mxCell id="evidently" parent="drift-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;fontSize=11;" value="Evidently AI" vertex="1">
          <mxGeometry height="30" width="120" x="15" y="25" as="geometry" />
        </mxCell>
        <mxCell id="drift-metrics" parent="drift-group" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;" value="PSI, KS-test, JSD&lt;br&gt;â†’ Alert / Retrain" vertex="1">
          <mxGeometry height="40" width="120" x="15" y="65" as="geometry" />
        </mxCell>

        <!-- Model Management -->
        <mxCell id="model-group" parent="1" style="swimlane;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;" value="Model Management" vertex="1">
          <mxGeometry height="150" width="150" x="960" y="60" as="geometry" />
        </mxCell>
        <mxCell id="mlflow" parent="model-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=11;" value="MLflow&lt;br&gt;Model Registry" vertex="1">
          <mxGeometry height="40" width="120" x="15" y="30" as="geometry" />
        </mxCell>
        <mxCell id="mlflow-info" parent="model-group" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;align=left;" value="â€¢ Ð’ÐµÑ€ÑÐ¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ&lt;br&gt;â€¢ ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸&lt;br&gt;â€¢ Staging â†’ Prod" vertex="1">
          <mxGeometry height="60" width="120" x="15" y="80" as="geometry" />
        </mxCell>

        <!-- Deployment -->
        <mxCell id="deploy-group" parent="1" style="swimlane;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;" value="Deployment" vertex="1">
          <mxGeometry height="150" width="150" x="960" y="230" as="geometry" />
        </mxCell>
        <mxCell id="docker" parent="deploy-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;" value="ðŸ³ Docker&lt;br&gt;ONNX Package" vertex="1">
          <mxGeometry height="40" width="120" x="15" y="30" as="geometry" />
        </mxCell>
        <mxCell id="k8s" parent="deploy-group" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;" value="â˜¸ï¸ Kubernetes&lt;br&gt;Deploy to Pods" vertex="1">
          <mxGeometry height="40" width="120" x="15" y="90" as="geometry" />
        </mxCell>
        <mxCell id="deploy-arrow1" edge="1" parent="deploy-group" source="docker" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="k8s">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Main Arrows - Data Flow -->
        <mxCell id="flow1" edge="1" parent="1" source="sources-group" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#d79b00;" target="stream-group">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow2" edge="1" parent="1" source="stream-group" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;" target="fs-group">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Feature Store to Features -->
        <mxCell id="flow3" edge="1" parent="1" source="s3-offline" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;" target="tft-features">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="250" y="425" />
              <mxPoint x="250" y="135" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="flow4" edge="1" parent="1" source="redis-online" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;" target="lgbm-features">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="260" y="425" />
              <mxPoint x="260" y="305" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Features to Training -->
        <mxCell id="flow5" edge="1" parent="1" source="tft-features" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#6c8ebf;" target="tft-prep">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="flow6" edge="1" parent="1" source="lgbm-features" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#82b366;" target="lgbm-prep">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- MLflow to Deploy -->
        <mxCell id="flow7" edge="1" parent="1" source="mlflow" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="docker">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Drift to Trigger -->
        <mxCell id="flow8" edge="1" parent="1" source="evidently" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;dashed=1;strokeColor=#b85450;" target="trigger-drift">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- TFT output to LightGBM input (cascade) -->
        <mxCell id="cascade" edge="1" parent="1" source="tft-output" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;dashed=1;strokeColor=#6c8ebf;" target="lgbm-feat-tft">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="900" y="103" />
              <mxPoint x="900" y="200" />
              <mxPoint x="330" y="200" />
            </Array>
          </mxGeometry>
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
